<head>
	<link rel="stylesheet" href="/testFile.css">
	<script src = "/parseFile.js"></script>
</head>
<body>
	<div id="drop_zone">
		<input type="file" id="files" name="files[]" multiple />
	</div>
	<script>
  		function handleFileSelect(evt) {
			evt.stopPropagation();
			evt.preventDefault();
			var eventData = evt.dataTransfer || evt.target;
			var files = eventData.files; // FileList object; // FileList object.

			// files is a FileList of File objects. List some properties.
			var output = [];
			for (var i = 0, f; f = files[i]; i++) {
				var parser = new DocumentParser();
				parser.setFileToParse(f);
				parser.start();
			}
		}

		function handleDragOver(evt) {
			evt.stopPropagation();
			evt.preventDefault();
			evt.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.
		}

	  	// Setup the dnd listeners.
		var dropZone = document.getElementById('drop_zone');
		dropZone.addEventListener('dragover', handleDragOver, false);
		dropZone.addEventListener('drop', handleFileSelect, false);
		document.getElementById('files').addEventListener('change', handleFileSelect, false);
	</script>
	<div id="list"></div>
</body>